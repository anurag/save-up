graph:
	just graph-app
	just graph-pub

graph-app:
	yarn elm-graphql $API_HOST/graphql-app --base Api \
		--header "Authorization: Bearer $SYSTEM_JWT"

graph-pub:
	yarn elm-graphql $API_HOST/graphql-pub --base ApiPub

elm-analyse:
	yarn elm-analyse

elm-ts:
	yarn elm-typescript-interop

test:
	yarn elm-test

# build-public-elm:
# 	elm make src/Public.elm --output ./elm-out/public.js

# build-app-elm:
# 	elm make src/Admin.elm src/Investor.elm --output ./elm-out/app.js

# build-public-ts:
# 	tsc -m system --outFile ./dist-dev/public.js ./src/public.ts

# build-public-ts-2:
# 	tsc -p ./

build-dev:
	npx webpack --config webpack.dev.js --progress --reporter=basic

build-prod:
	NODE_ENV=production npx webpack --config webpack.prod.js --progress

start:
	npx webpack-dev-server --config ./webpack.dev.js --hot

# build-dev:
# 	npx rollup -c

# build-prod:
#	env ENV=prod yarn rollup -c

# open-stats:
# 	yarn webpack-bundle-analyzer dist/app/stats.json
